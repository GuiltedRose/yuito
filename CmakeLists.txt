cmake_minimum_required(VERSION 3.25)
project(Yuito VERSION 0.0.0-dev LANGUAGES CXX)

# Use C++23
set(CMAKE_CXX_STANDARD 23)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

# Automatically use Ninja if available
if(NOT CMAKE_GENERATOR)
  find_program(NINJA_EXE NAMES ninja)
  if(NINJA_EXE)
    set(CMAKE_GENERATOR "Ninja" CACHE INTERNAL "" FORCE)
  endif()
endif()

# Enable folders in IDEs like VSCode/CMake Tools
set_property(GLOBAL PROPERTY USE_FOLDERS ON)

# Setup Qt6
find_package(Qt6 REQUIRED COMPONENTS Core Gui Widgets)

# Source files
file(GLOB_RECURSE SRC_FILES CONFIGURE_DEPENDS
    src/*.cpp
    src/*.h
)

# Create the executable
add_executable(${PROJECT_NAME} ${SRC_FILES})

# Include directories
target_include_directories(${PROJECT_NAME}
    PRIVATE
        ${CMAKE_SOURCE_DIR}/src
)

# Link Qt6 libraries
target_link_libraries(${PROJECT_NAME}
    PRIVATE
        Qt6::Core
        Qt6::Gui
        Qt6::Widgets
)

# Optional: set folder for IDE organization
set_target_properties(${PROJECT_NAME} PROPERTIES FOLDER "App")
